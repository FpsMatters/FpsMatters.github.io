<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>IA Premium - Assistant Robot</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    @font-face {
      font-family: 'SF Pro Text';
      src: local('SF Pro Text'), local('SFProText-Regular');
      font-weight: 700;
      font-style: normal;
    }
    html, body {
      margin: 0; padding: 0;
      background: #000;
      color: #fff;
      font-family: 'SF Pro Text', 'Segoe UI', Arial, sans-serif;
      overflow: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    h1 {
      margin: 20px 0 8px;
      font-size: clamp(2.5rem, 7vw, 5rem);
      font-weight: 700;
      text-align: center;
      letter-spacing: 0.01em;
      text-shadow: 0 0 6px #fff, 0 0 16px #fff2;
      user-select: none;
      line-height: 1.2;
      animation: fadeInScale 1.2s cubic-bezier(.23,1.12,.64,1) forwards;
      opacity: 0;
      transform: scale(0.96);
      position: relative;
      z-index: 2;
    }
    @keyframes fadeInScale {
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    #robot-container {
      flex-grow: 1;
      width: 100%;
      max-width: 600px;
      position: relative;
    }
    canvas {
      display: block;
      width: 100%;
      height: 100%;
      outline: none;
    }
    #text-bubble {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255 255 255 / 0.1);
      border-radius: 24px;
      padding: 14px 24px;
      max-width: 90%;
      font-size: 1.1rem;
      color: #fff;
      text-align: center;
      box-shadow: 0 0 12px 2px rgba(255,255,255,0.15);
      backdrop-filter: blur(8px);
      user-select: none;
      pointer-events: none;
      font-weight: 600;
      font-family: 'SF Pro Text', 'Segoe UI', Arial, sans-serif;
      letter-spacing: 0.02em;
      opacity: 0;
      animation: fadeIn 1s forwards 1.5s;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <h1>L’IA, c’est maintenant.</h1>
  <div id="robot-container">
    <canvas id="robot-canvas"></canvas>
    <div id="text-bubble">Bonjour ! Je suis votre assistant IA.</div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.154.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.154.0/examples/js/loaders/GLTFLoader.js"></script>
  <script>
    const container = document.getElementById('robot-container');
    const canvas = document.getElementById('robot-canvas');
    let width = container.clientWidth;
    let height = window.innerHeight - 120;

    // Renderer
    const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
    renderer.setSize(width, height);
    renderer.setClearColor(0x000000, 0);

    // Scene & Camera
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(35, width / height, 0.1, 1000);
    camera.position.set(0, 1.2, 3.5);

    // Lights
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
    scene.add(ambientLight);
    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.6);
    directionalLight.position.set(5, 10, 7);
    scene.add(directionalLight);

    // Load robot model (low-poly robot from Poly Pizza)
    const loader = new THREE.GLTFLoader();
    let robot;
    loader.load(
      'https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/RobotExpressive/glTF/RobotExpressive.glb',
      (gltf) => {
        robot = gltf.scene;
        robot.scale.set(0.7, 0.7, 0.7);
        robot.position.y = -0.8;
        scene.add(robot);

        // Start animation loop after model loads
        animate();
      },
      undefined,
      (error) => {
        console.error('Error loading model:', error);
      }
    );

    // Animation variables
    let clock = new THREE.Clock();

    function animate() {
      requestAnimationFrame(animate);
      const elapsed = clock.getElapsedTime();

      if (robot) {
        // Slow rotation
        robot.rotation.y = Math.sin(elapsed * 0.5) * 0.3;

        // Slight bobbing up/down
        robot.position.y = -0.8 + Math.sin(elapsed * 2) * 0.05;
      }

      renderer.render(scene, camera);
    }

    // Responsive resize
    window.addEventListener('resize', () => {
      width = container.clientWidth;
      height = window.innerHeight - 120;
      renderer.setSize(width, height);
      camera.aspect = width / height;
      camera.updateProjectionMatrix();
    });

    // Text bubble messages
    const bubble = document.getElementById('text-bubble');
    const messages = [
      "Bonjour ! Je suis votre assistant IA.",
      "Je peux vous guider pour booster votre entreprise.",
      "Découvrez comment l'IA transforme votre activité.",
      "Prêt à commencer ? Contactez-nous pour une consultation !"
    ];
    let msgIndex = 0;

    function cycleMessages() {
      bubble.style.opacity = 0;
      setTimeout(() => {
        msgIndex = (msgIndex + 1) % messages.length;
        bubble.textContent = messages[msgIndex];
        bubble.style.opacity = 1;
      }, 600);
    }
    setInterval(cycleMessages, 6000);
  </script>
</body>
</html>
